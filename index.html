<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Submit Info</title>
</head>
<body>
  <h1>Submit your info</h1>
  <form id="myForm">
    <label>Name: <input name="name" required></label><br>
    <label>Email: <input name="email" type="email" required></label><br>
    <label>Message:<br><textarea name="message" required></textarea></label><br>
    <button type="submit">Send</button>
  </form>
  <p id="response"></p>

  <script>
    document.addEventListener("DOMContentLoaded", function () {
      document.getElementById('myForm').addEventListener('submit', async function (e) {
        e.preventDefault();
        console.log("✅ Form submit triggered");

        const form = e.target;
        const data = {
          name: form.name.value,
          email: form.email.value,
          message: form.message.value
        };

        try {
          const res = await fetch("https://script.google.com/macros/s/AKfycbw9J5AnKEQDozmX5H5-bqe7JM7MWs4VSGiASGFKJ1rCIhPdmz1AStSpGv964pRQsbeuhg/exec", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify(data)
          });

          const text = await res.text();
          document.getElementById('response').textContent = text;
        } catch (err) {
          console.error("❌ Error submitting form:", err);
          document.getElementById('response').textContent = "❌ Submission failed.";
        }
      });
    });
  </script>
</body>
</html>
